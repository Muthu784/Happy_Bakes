{"ast":null,"code":"import _objectSpread from\"M:/Project-work/bakes/bake/Client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import{useUser}from'../context/UserContext';import'../Styles/Products.css';import BakeryItemCard from'../Components/bakeryitemcards';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Products=()=>{const[bakeryItems,setBakeryItems]=useState([]);const[loading,setLoading]=useState(true);const navigate=useNavigate();const{user}=useUser();useEffect(()=>{console.log('Current user in Products:',user);// Fetch products from the backend\nconst fetchProducts=async()=>{try{const res=await fetch('http://localhost:5000/api/products');const data=await res.json();setBakeryItems(data);setLoading(false);}catch(err){console.error('Error fetching products:',err);setLoading(false);}};fetchProducts();},[user]);const handleAddToCart=item=>{navigate('/user-orders',{state:{orderedItem:_objectSpread(_objectSpread({},item),{},{quantity:1})}});};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"products-container\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"Loading products...\"})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"products-container\",children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\"Hello\",user?\" \".concat(user.name):'',\", Welcome to our delightful bakery selection\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"bakery-items-grid\",children:bakeryItems.map(item=>/*#__PURE__*/_jsx(BakeryItemCard,{item:item,onAddToCart:handleAddToCart},item._id))})]});};export default Products;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useUser","BakeryItemCard","jsx","_jsx","jsxs","_jsxs","Products","bakeryItems","setBakeryItems","loading","setLoading","navigate","user","console","log","fetchProducts","res","fetch","data","json","err","error","handleAddToCart","item","state","orderedItem","_objectSpread","quantity","className","children","concat","name","map","onAddToCart","_id"],"sources":["M:/Project-work/bakes/bake/Client/src/Pages/Products.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useUser } from '../context/UserContext';\r\nimport '../Styles/Products.css';\r\nimport BakeryItemCard from '../Components/bakeryitemcards';\r\n\r\nconst Products = () => {\r\n  const [bakeryItems, setBakeryItems] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const navigate = useNavigate();\r\n  const { user } = useUser();\r\n\r\n  useEffect(() => {\r\n    console.log('Current user in Products:', user);\r\n    // Fetch products from the backend\r\n    const fetchProducts = async () => {\r\n      try {\r\n        const res = await fetch('http://localhost:5000/api/products');\r\n        const data = await res.json();\r\n        setBakeryItems(data);\r\n        setLoading(false);\r\n      } catch (err) {\r\n        console.error('Error fetching products:', err);\r\n        setLoading(false);\r\n      }\r\n    };\r\n    fetchProducts();\r\n  }, [user]);\r\n\r\n  const handleAddToCart = (item) => {\r\n    navigate('/user-orders', { state: { orderedItem: { ...item, quantity: 1 } } });\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"products-container\">\r\n        <h1>Loading products...</h1>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"products-container\">\r\n      <h1>Hello{user ? ` ${user.name}` : ''}, Welcome to our delightful bakery selection</h1>\r\n      <div className=\"bakery-items-grid\">\r\n        {bakeryItems.map((item) => (\r\n          <BakeryItemCard key={item._id} item={item} onAddToCart={handleAddToCart} />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Products;\r\n"],"mappings":"sHAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,OAASC,OAAO,KAAQ,wBAAwB,CAChD,MAAO,wBAAwB,CAC/B,MAAO,CAAAC,cAAc,KAAM,+BAA+B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE3D,KAAM,CAAAC,QAAQ,CAAGA,CAAA,GAAM,CACrB,KAAM,CAACC,WAAW,CAAEC,cAAc,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CAClD,KAAM,CAACY,OAAO,CAAEC,UAAU,CAAC,CAAGb,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAAAc,QAAQ,CAAGZ,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAEa,IAAK,CAAC,CAAGZ,OAAO,CAAC,CAAC,CAE1BF,SAAS,CAAC,IAAM,CACde,OAAO,CAACC,GAAG,CAAC,2BAA2B,CAAEF,IAAI,CAAC,CAC9C;AACA,KAAM,CAAAG,aAAa,CAAG,KAAAA,CAAA,GAAY,CAChC,GAAI,CACF,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAAC,KAAK,CAAC,oCAAoC,CAAC,CAC7D,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAF,GAAG,CAACG,IAAI,CAAC,CAAC,CAC7BX,cAAc,CAACU,IAAI,CAAC,CACpBR,UAAU,CAAC,KAAK,CAAC,CACnB,CAAE,MAAOU,GAAG,CAAE,CACZP,OAAO,CAACQ,KAAK,CAAC,0BAA0B,CAAED,GAAG,CAAC,CAC9CV,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CACDK,aAAa,CAAC,CAAC,CACjB,CAAC,CAAE,CAACH,IAAI,CAAC,CAAC,CAEV,KAAM,CAAAU,eAAe,CAAIC,IAAI,EAAK,CAChCZ,QAAQ,CAAC,cAAc,CAAE,CAAEa,KAAK,CAAE,CAAEC,WAAW,CAAAC,aAAA,CAAAA,aAAA,IAAOH,IAAI,MAAEI,QAAQ,CAAE,CAAC,EAAG,CAAE,CAAC,CAAC,CAChF,CAAC,CAED,GAAIlB,OAAO,CAAE,CACX,mBACEN,IAAA,QAAKyB,SAAS,CAAC,oBAAoB,CAAAC,QAAA,cACjC1B,IAAA,OAAA0B,QAAA,CAAI,qBAAmB,CAAI,CAAC,CACzB,CAAC,CAEV,CAEA,mBACExB,KAAA,QAAKuB,SAAS,CAAC,oBAAoB,CAAAC,QAAA,eACjCxB,KAAA,OAAAwB,QAAA,EAAI,OAAK,CAACjB,IAAI,KAAAkB,MAAA,CAAOlB,IAAI,CAACmB,IAAI,EAAK,EAAE,CAAC,8CAA4C,EAAI,CAAC,cACvF5B,IAAA,QAAKyB,SAAS,CAAC,mBAAmB,CAAAC,QAAA,CAC/BtB,WAAW,CAACyB,GAAG,CAAET,IAAI,eACpBpB,IAAA,CAACF,cAAc,EAAgBsB,IAAI,CAAEA,IAAK,CAACU,WAAW,CAAEX,eAAgB,EAAnDC,IAAI,CAACW,GAAgD,CAC3E,CAAC,CACC,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAA5B,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}